!function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{var g;g="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,g.FastScroll=f()}}(function(){var define;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){!function(exports){"use strict";var delegate=function(target,handler){var args=[].slice.call(arguments,2),fn=function(){return handler.apply(target,args)};return fn};"undefined"!=typeof module&&module.exports?module.exports=delegate:"undefined"!=typeof define?define(function(){return delegate}):exports.delegate=delegate}(this)},{}],2:[function(require,module,exports){"use strict";var ceSupport=!0;try{new CustomEvent}catch(e){ceSupport=!1}ceSupport&&"undefined"!=typeof window.CustomEvent||!function(){window.CustomEvent=function(event,params){var evt;return params=params||{bubbles:!1,cancelable:!1,detail:void 0},evt=document.createEvent("CustomEvent"),evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail),evt},window.CustomEvent.prototype=window.Event.prototype}();var delegate=require("delegatejs"),FastScroll=function(options){this.options=options||{},this.element=this.options.el||window,this.init()};FastScroll.prototype={destroyed:!1,scrolling:!1,scrollY:0,scrollX:0,lastScrollY:0,lastScrollX:0,speedY:0,speedX:0,_hasRequestedAnimationFrame:!1,init:function(){this.onScrollDelegate=delegate(this,this.onScroll),this.onAnimationFrameDelegate=delegate(this,this.onAnimationFrame),this.onCheckScrollStopDelegate=delegate(this,this.onCheckScrollStop),this.element.addEventListener("scroll",this.onScrollDelegate,!1)},destroy:function(){this.element.removeEventListener("scroll",this.onScrollDelegate),this.onScrollDelegate=null,this.element=null,this.options=null,this.destroyed=!0},getAttributes:function(){return{scrollY:this.scrollY,scrollX:this.scrollX,speedY:this.speedY,speedX:this.speedX,angle:0,direction:0===this.speedY?"none":this.speedY>0?"up":"down"}},onScroll:function(){if(this.scrollY=this.element.scrollY||this.element.pageYOffset||0,this.scrollX=this.element.scrollX||this.element.pageXOffset||0,this.scrolling=!0,!this._hasRequestedAnimationFrame){this._hasRequestedAnimationFrame=!0,window.requestAnimationFrame(this.onAnimationFrameDelegate);var attr=this.getAttributes();this.dispatchEvent("scroll:start",attr),this.options.start&&this.options.start.call(this,attr)}},onAnimationFrame:function(){if(!this.destroyed){this.speedY=this.lastScrollY-this.scrollY,this.speedX=this.lastScrollX-this.scrollX,this.lastScrollY=this.scrollY,this.lastScrollX=this.scrollX;var attr=this.getAttributes();this.dispatchEvent("scroll:progress",this.getAttributes()),this.options.scrolling&&this.options.scrolling.call(this,attr),0===this.speedY&&0===this.speedX?window.requestAnimationFrame(this.onCheckScrollStopDelegate):window.requestAnimationFrame(this.onAnimationFrameDelegate)}},onCheckScrollStop:function(){if(this.speedY=this.lastScrollY-this.scrollY,this.speedX=this.lastScrollX-this.scrollX,0===this.speedY&&0===this.speedX){this.scrolling=!1,this._hasRequestedAnimationFrame=!1;var attr=this.getAttributes();this.dispatchEvent("scroll:stop",attr),this.options.stop&&this.options.stop.call(this,attr)}else this.onAnimationFrame()},dispatchEvent:function(type,eventObject){var event=new CustomEvent(type,{detail:eventObject});this.element.dispatchEvent(event)},on:function(event,listener){this.element&&this.element.addEventListener(event,listener,!1)},off:function(event,listener){this.element&&this.element.removeEventListener(event,listener)}},module.exports=FastScroll},{delegatejs:1}]},{},[2])(2)});
