!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.FastScroll=t()}}(function(){var t;return function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return r(n?n:e)},u,u.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,n){!function(e){"use strict";var i=function(t,e){var n=[].slice.call(arguments,2),i=function(){return e.apply(t,n)};return i};"undefined"!=typeof n&&n.exports?n.exports=i:"undefined"!=typeof t?t(function(){return i}):e.delegate=i}(this)},{}],2:[function(t,e){"use strict";function n(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}var i={},r=function(){this._eventMap={},this._destroyed=!1,this.on=this.bind=this.addEventListener=this.addListener,this.off=this.unbind=this.removeEventListener=this.removeListener,this.once=this.one=this.addListenerOnce,this.emmit=this.trigger=this.dispatchEvent=this.dispatch};r.getInstance=function(t){if(!t)throw new Error("key must be");return i[t]||(i[t]=new r)},r.prototype.addListener=function(t,e){var n=this.getListener(t);return n?-1===n.indexOf(e)?(n.push(e),!0):!1:(this._eventMap[t]=[e],!0)},r.prototype.addListenerOnce=function(t,e){var n=this,i=function(){return n.removeListener(t,i),e.apply(this,arguments)};return this.addListener(t,i)},r.prototype.removeListener=function(t,e){if("undefined"==typeof e)return this.removeAllListener(t);var n=this.getListener(t);if(n){var i=n.indexOf(e);if(i>-1)return n=n.splice(i,1),n.length||delete this._eventMap[t],!0}return!1},r.prototype.removeAllListener=function(t){var e=this.getListener(t);return e?(this._eventMap[t].length=0,delete this._eventMap[t],!0):!1},r.prototype.hasListener=function(t){return null!==this.getListener(t)},r.prototype.hasListeners=function(){return null!==this._eventMap&&void 0!==this._eventMap&&!n(this._eventMap)},r.prototype.dispatch=function(t,e){var n=this.getListener(t);if(n){e=e||{},e.type=t,e.target=e.target||this;for(var i=-1;++i<n.length;)n[i](e);return!0}return!1},r.prototype.getListener=function(t){var e=this._eventMap?this._eventMap[t]:null;return e||null},r.prototype.destroy=function(){if(this._eventMap){for(var t in this._eventMap)this.removeAllListener(t);this._eventMap=null}this._destroyed=!0},e.exports=r},{}],3:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){for(var n=Object.getOwnPropertyNames(e),i=0;i<n.length;i++){var r=n[i],o=Object.getOwnPropertyDescriptor(e,r);o&&o.configurable&&void 0===t[r]&&Object.defineProperty(t,r,o)}return t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):r(t,e))}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c=t("delegatejs"),u=i(c),h=t("eventdispatcher"),p=i(h),d={},f=function(t){function e(){var n,i=arguments.length<=0||void 0===arguments[0]?window:arguments[0],r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];o(this,e);var a=n=s(this,t.call(this));if(e.hasScrollTarget(i)){var l;return l=a,s(n,l)}return n.scrollTarget=i,n.options=r,d[i]=a,n.options.hasOwnProperty("animationFrame")||(n.options.animationFrame=!0),e.unprefixAnimationFrame(),n.destroyed=!1,n.scrollY=0,n.scrollX=0,n.lastScrollY=0,n.lastScrollX=0,n.timeout=0,n.speedY=0,n.speedX=0,n.stopFrames=5,n.currentStopFrames=0,n.firstRender=!0,n.animationFrame=!0,n.scrolling=!1,n.init(),n}return a(e,t),e.prototype.init=function(){this.updateScrollPosition=this.scrollTarget===window?u["default"](this,this.updateWindowScrollPosition):u["default"](this,this.updateElementScrollPosition),this.updateScrollPosition(),this.onScroll=u["default"](this,this.onScroll),this.onNextFrame=u["default"](this,this.onNextFrame),this.scrollTarget.addEventListener?this.scrollTarget.addEventListener("scroll",this.onScroll,m.passiveEvents?{passive:!0}:!1):this.scrollTarget.attachEvent&&this.scrollTarget.attachEvent("scroll",this.onScroll)},e.prototype.destroy=function(){this.destroyed||(this.cancelNextFrame(),t.prototype.destroy.call(this),this.scrollTarget.addEventListener?this.scrollTarget.removeEventListener("scroll",this.onScroll):this.scrollTarget.attachEvent&&this.scrollTarget.detachEvent("scroll",this.onScroll),this.onScroll=null,this.updateScrollPosition=null,this.onNextFrame=null,this.scrollTarget=null,this.destroyed=!0)},e.prototype.getAttributes=function(){return{scrollY:this.scrollY,scrollX:this.scrollX,speedY:this.speedY,speedX:this.speedX,angle:0,directionY:0===this.speedY?e.NONE:this.speedY>0?e.UP:e.DOWN,directionX:0===this.speedX?e.NONE:this.speedX>0?e.RIGHT:e.LEFT}},e.prototype.updateWindowScrollPosition=function(){this.scrollY=window.scrollY||window.pageYOffset||0,this.scrollX=window.scrollX||window.pageXOffset||0},e.prototype.updateElementScrollPosition=function(){this.scrollY=this.scrollTarget.scrollTop,this.scrollX=this.scrollTarget.scrollLeft},e.prototype.onScroll=function(){if(this.currentStopFrames=0,this.firstRender&&(this.firstRender=!1,this.scrollY>1))return this.updateScrollPosition(),void this.dispatchEvent(e.EVENT_SCROLL_PROGRESS);if(!this.scrolling)if(this.scrolling=!0,this.dispatchEvent(e.EVENT_SCROLL_START),this.options.animationFrame)this.nextFrameID=window.requestAnimationFrame(this.onNextFrame);else{clearTimeout(this.timeout),this.onNextFrame();var t=this;this.timeout=setTimeout(function(){t.onScrollStop()},100)}},e.prototype.onNextFrame=function(){return this.updateScrollPosition(),this.speedY=this.lastScrollY-this.scrollY,this.speedX=this.lastScrollX-this.scrollX,this.lastScrollY=this.scrollY,this.lastScrollX=this.scrollX,this.options.animationFrame&&this.scrolling&&0===this.speedY&&this.currentStopFrames++>this.stopFrames?void this.onScrollStop():(this.dispatchEvent(e.EVENT_SCROLL_PROGRESS),void(this.options.animationFrame&&(this.nextFrameID=requestAnimationFrame(this.onNextFrame))))},e.prototype.onScrollStop=function(){this.scrolling=!1,this.options.animationFrame&&(this.cancelNextFrame(),this.currentStopFrames=0),this.dispatchEvent(e.EVENT_SCROLL_STOP)},e.prototype.cancelNextFrame=function(){window.cancelAnimationFrame(this.nextFrameID)},l(e,[{key:"attr",get:function(){return this.getAttributes()}}]),e}(p["default"]);f.getInstance=function(t,e){return d[t]||(d[t]=new f(t,e)),d[t]},f.hasInstance=function(t){return d[t]},f.hasScrollTarget=f.hasInstance,f.clearInstance=function(){var t=arguments.length<=0||void 0===arguments[0]?window:arguments[0];f.hasInstance(t)&&(f.getInstance(t).destroy(),delete d[t])},f.unprefixAnimationFrame=function(){window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,window.cancelAnimationFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame},f.UP="up",f.DOWN="down",f.NONE="none",f.LEFT="left",f.RIGHT="right",f.EVENT_SCROLL_PROGRESS="scroll:progress",f.EVENT_SCROLL_START="scroll:start",f.EVENT_SCROLL_STOP="scroll:stop",n["default"]=f;var m=function(){function t(){o(this,t),this._passiveEvents=null}return l(t,[{key:"animationFrame",get:function(){return!0}},{key:"passiveEvents",get:function(){var t=this;if(!this._passiveEvents)return this._passiveEvents;this._supportsPassive=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t._supportsPassive=!0}});window.addEventListener("test",null,e)}catch(n){}}}]),t}();e.exports=n["default"]},{delegatejs:1,eventdispatcher:2}],4:[function(t,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var i=t("./fastscroll"),r=n(i);e.exports=r["default"]},{"./fastscroll":3}]},{},[4])(4)});